(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{311:function(t,a,e){"use strict";e.r(a);var s=e(14),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"基本学习"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本学习"}},[t._v("#")]),t._v(" 基本学习")]),t._v(" "),a("h2",{attrs:{id:"buffer-缓冲器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buffer-缓冲器"}},[t._v("#")]),t._v(" Buffer(缓冲器)")]),t._v(" "),a("p",[t._v("const buf = Buffer.alloc(10) // 创建buffer\nconst buf2 = Buffer.allocUnsafe(10)\nconst buf3 = Buffer.from('hello')\nconsole.log(buf3.toString()) // 转成字符串\nconsole.log(buf3[0]) // 读取第0个")]),t._v(" "),a("h2",{attrs:{id:"fs-文件系统"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fs-文件系统"}},[t._v("#")]),t._v(" fs(文件系统)")]),t._v(" "),a("h3",{attrs:{id:"writefile-写文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#writefile-写文件"}},[t._v("#")]),t._v(" writeFile 写文件")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("const fs = require('fs')\n// 没有文件会自动创建 \n// fs.writeFileSync('/test.txt', 'This is a string')\nfs.writeFile('test.txt', 'This is a string', e => {\n  console.log(e)\n})\n")])])]),a("h3",{attrs:{id:"文件的读取"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件的读取"}},[t._v("#")]),t._v(" 文件的读取")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("fs.readFile('test.txt', 'utf-8', (err, data) => {\n    console.log(err)\n    console.log(data)\n})\n")])])]),a("h3",{attrs:{id:"创建写入流对象-分批次写入-速度块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建写入流对象-分批次写入-速度块"}},[t._v("#")]),t._v(" 创建写入流对象(分批次写入,速度块)")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("let ws = fs.createWriteStream('test.txt')\nws.write('111')\nws.write('1112')\nws.write('1113')\nws.write('1114')\n")])])]),a("h3",{attrs:{id:"流式读取"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#流式读取"}},[t._v("#")]),t._v(" 流式读取")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("//复制文件\nlet data = fs.readFileSync('test.txt', 'utf8')\nlet s = fs.writeFileSync('output.txt',data)\n\n\n//复制文件\nlet rs =  fs.createReadStream('test.txt');\nlet ws = fs.createWriteStream('output3.txt');\nrs.on('data', (chunk)=>{\n    console.log(chunk)\n    ws.write(chunk)\n})\nor\nrs.pipe(ws)\n\n")])])]),a("h3",{attrs:{id:"文件重命名或者文件移动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件重命名或者文件移动"}},[t._v("#")]),t._v(" 文件重命名或者文件移动")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("//重命名或者文件移动\nfs.rename('output.txt','renamed.txt', (err)=>{\n\n})\n")])])]),a("h3",{attrs:{id:"删除文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除文件"}},[t._v("#")]),t._v(" 删除文件")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("fs.unlink('./output2.txt',err=>{\n})\n\nfs.rm('./output2.txt', err => {\n})\n")])])]),a("h3",{attrs:{id:"文件夹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件夹"}},[t._v("#")]),t._v(" 文件夹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("//创建目录\nfs.mkdir('./testdir', (err) => {\n    \n})\n\n\n//递归创建\nfs.mkdir('./testdir/b/c',{\n    recursive: true\n}, (err) => {\n\n})\n\n//读取文件夹\nfs.readdir('./testdir',(e,data)=>{\n    console.log(e)\n    console.log(data)\n})\n\n\n//删除目录 rm or rmdir\nfs.rm('testdir',{recursive:true},e=>{\n    console.log(e)\n})\n")])])]),a("h3",{attrs:{id:"查看信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看信息"}},[t._v("#")]),t._v(" 查看信息")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("fs.stat('./test.txt', (err, stats) => { \n    console.log(stats)\n    console.log(stats.isFile())  //是否是文件\n    console.log(stats.isDirectory()) //是否是文件目录\n    console.log(stats.isSocket()) //是否是网络文件\n})\n")])])]),a("h3",{attrs:{id:"路径操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路径操作"}},[t._v("#")]),t._v(" 路径操作")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("\nfs.writeFileSync('/Users/fanrongkong/code/study/study-main/kj/a.txt', 'Hello World!')\nfs.writeFileSync( __dirname+'/a1.txt', 'Hello World!')\n\n")])])]),a("h2",{attrs:{id:"path-模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#path-模块"}},[t._v("#")]),t._v(" path 模块")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("// 获取文件地址\npath.resolve(__dirname,'./index')\n\nconsole.log(__fileName) // /Users//fanrongkong//code///study//vuepress-blog\n\n这个时候就要用到 path.parse(__fileName) 来转义\n\npath.baseName(__fileName) //获取文件夹的地址\npath.extname(__fileName) //获取后缀\n\n")])])]),a("h2",{attrs:{id:"express框架"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#express框架"}},[t._v("#")]),t._v(" express框架")]),t._v(" "),a("h3",{attrs:{id:"初体验"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初体验"}},[t._v("#")]),t._v(" 初体验")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("const express = require('express');\nconst app = express()\n\napp.get('/', function (req, res) {\n    res.end('hello')\n})\n\napp.listen(3000, e=>{\n    console.log(e)\n})\n")])])]),a("h3",{attrs:{id:"获取报文"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取报文"}},[t._v("#")]),t._v(" 获取报文")]),t._v(" "),a("ul",[a("li",[t._v("请求req:\n"),a("ul",[a("li",[t._v("method")]),t._v(" "),a("li",[t._v("url")]),t._v(" "),a("li",[t._v("httpVersion")]),t._v(" "),a("li",[t._v("path")]),t._v(" "),a("li",[t._v("query")]),t._v(" "),a("li",[t._v("ip")]),t._v(" "),a("li",[t._v("params")])])]),t._v(" "),a("li",[t._v("响应res:\n"),a("ul",[a("li",[t._v("status(500)")]),t._v(" "),a("li",[t._v("set(name,value)")]),t._v(" "),a("li",[t._v("send(data)")]),t._v(" "),a("li",[t._v("redirect(url)")]),t._v(" "),a("li",[t._v("download(url)")]),t._v(" "),a("li",[t._v("json() 响应json")]),t._v(" "),a("li",[t._v("sendFile(path) 响应文件的功能")])])])]),t._v(" "),a("h3",{attrs:{id:"中间件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#中间件"}},[t._v("#")]),t._v(" 中间件")]),t._v(" "),a("ul",[a("li",[t._v("全局中间件"),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("function mid(req,res,next){\n  ....\n  next()\n}\n\napp.user(mid)\n\n")])])])]),t._v(" "),a("li",[t._v("路由中间件")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("  function mid(req,res,next){\n    ....\n    next()\n  }\n\n  app.get('/get',mid,(req,res)=>{\n\n  })\n\n")])])]),a("ul",[a("li",[t._v("静态资源中间件")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("app.user(express.static(__dirname+'/public'))\n")])])]),a("h3",{attrs:{id:"body-parser-文件解析器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#body-parser-文件解析器"}},[t._v("#")]),t._v(" body-parser 文件解析器")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("//全局中间件\nconst bodyParser = require('body-parser')\napp.use(bodyParser.urlencoded({ extended: false }))\napp.use(bodyParser.json())\n\n")])])]),a("h3",{attrs:{id:"formidable-文件上传插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#formidable-文件上传插件"}},[t._v("#")]),t._v(" formidable 文件上传插件")])])}),[],!1,null,null,null);a.default=r.exports}}]);