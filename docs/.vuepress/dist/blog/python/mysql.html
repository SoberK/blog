<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>mysql | 翻手机壳</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/blog/assets/css/0.styles.3aadf512.css" as="style"><link rel="preload" href="/blog/assets/js/app.24b46c41.js" as="script"><link rel="preload" href="/blog/assets/js/2.245720e2.js" as="script"><link rel="preload" href="/blog/assets/js/38.da0fae6c.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.06910aeb.js"><link rel="prefetch" href="/blog/assets/js/100.12e5a914.js"><link rel="prefetch" href="/blog/assets/js/101.a81a5037.js"><link rel="prefetch" href="/blog/assets/js/102.db41b51b.js"><link rel="prefetch" href="/blog/assets/js/103.d2782efb.js"><link rel="prefetch" href="/blog/assets/js/104.c39e3c74.js"><link rel="prefetch" href="/blog/assets/js/105.cc840688.js"><link rel="prefetch" href="/blog/assets/js/106.f77287f0.js"><link rel="prefetch" href="/blog/assets/js/107.2d09b6c5.js"><link rel="prefetch" href="/blog/assets/js/108.c80d1d58.js"><link rel="prefetch" href="/blog/assets/js/109.6b6a900a.js"><link rel="prefetch" href="/blog/assets/js/11.377ecc95.js"><link rel="prefetch" href="/blog/assets/js/110.3c3d2b52.js"><link rel="prefetch" href="/blog/assets/js/111.a132e2a8.js"><link rel="prefetch" href="/blog/assets/js/112.a193181b.js"><link rel="prefetch" href="/blog/assets/js/113.c7ba35f8.js"><link rel="prefetch" href="/blog/assets/js/114.d8002768.js"><link rel="prefetch" href="/blog/assets/js/115.ebce06c0.js"><link rel="prefetch" href="/blog/assets/js/116.dda3304e.js"><link rel="prefetch" href="/blog/assets/js/117.ac8a4691.js"><link rel="prefetch" href="/blog/assets/js/118.c33886ec.js"><link rel="prefetch" href="/blog/assets/js/119.d3827cfb.js"><link rel="prefetch" href="/blog/assets/js/12.0c7867d7.js"><link rel="prefetch" href="/blog/assets/js/120.f82933bd.js"><link rel="prefetch" href="/blog/assets/js/121.2a399124.js"><link rel="prefetch" href="/blog/assets/js/122.a1aa4232.js"><link rel="prefetch" href="/blog/assets/js/123.a6b17f7b.js"><link rel="prefetch" href="/blog/assets/js/124.b06287fa.js"><link rel="prefetch" href="/blog/assets/js/125.71359741.js"><link rel="prefetch" href="/blog/assets/js/13.b33995cd.js"><link rel="prefetch" href="/blog/assets/js/14.c3fbed16.js"><link rel="prefetch" href="/blog/assets/js/15.ba038e35.js"><link rel="prefetch" href="/blog/assets/js/16.d08a5833.js"><link rel="prefetch" href="/blog/assets/js/17.0bade053.js"><link rel="prefetch" href="/blog/assets/js/18.9c90ce19.js"><link rel="prefetch" href="/blog/assets/js/19.1a9ba023.js"><link rel="prefetch" href="/blog/assets/js/20.6bda132a.js"><link rel="prefetch" href="/blog/assets/js/21.3db191af.js"><link rel="prefetch" href="/blog/assets/js/22.e6eff085.js"><link rel="prefetch" href="/blog/assets/js/23.dd7d7de5.js"><link rel="prefetch" href="/blog/assets/js/24.bf09dda4.js"><link rel="prefetch" href="/blog/assets/js/25.e7cb4edc.js"><link rel="prefetch" href="/blog/assets/js/26.2c9b91e2.js"><link rel="prefetch" href="/blog/assets/js/27.31698b89.js"><link rel="prefetch" href="/blog/assets/js/28.89c5164d.js"><link rel="prefetch" href="/blog/assets/js/29.ddc7ba38.js"><link rel="prefetch" href="/blog/assets/js/3.6cf859af.js"><link rel="prefetch" href="/blog/assets/js/30.76da5fae.js"><link rel="prefetch" href="/blog/assets/js/31.dda05309.js"><link rel="prefetch" href="/blog/assets/js/32.638355a4.js"><link rel="prefetch" href="/blog/assets/js/33.ac47a6ed.js"><link rel="prefetch" href="/blog/assets/js/34.2fed79ca.js"><link rel="prefetch" href="/blog/assets/js/35.2f26c9e2.js"><link rel="prefetch" href="/blog/assets/js/36.029db839.js"><link rel="prefetch" href="/blog/assets/js/37.9f719b4c.js"><link rel="prefetch" href="/blog/assets/js/39.bcf488bd.js"><link rel="prefetch" href="/blog/assets/js/4.94394498.js"><link rel="prefetch" href="/blog/assets/js/40.9799f217.js"><link rel="prefetch" href="/blog/assets/js/41.66d732e1.js"><link rel="prefetch" href="/blog/assets/js/42.385ef8fd.js"><link rel="prefetch" href="/blog/assets/js/43.8ca0fd64.js"><link rel="prefetch" href="/blog/assets/js/44.3096d1c3.js"><link rel="prefetch" href="/blog/assets/js/45.23ee83e3.js"><link rel="prefetch" href="/blog/assets/js/46.3f888c5a.js"><link rel="prefetch" href="/blog/assets/js/47.72bf6baf.js"><link rel="prefetch" href="/blog/assets/js/48.e33fb7b9.js"><link rel="prefetch" href="/blog/assets/js/49.66bc19b0.js"><link rel="prefetch" href="/blog/assets/js/5.09d1b7bf.js"><link rel="prefetch" href="/blog/assets/js/50.23a3da62.js"><link rel="prefetch" href="/blog/assets/js/51.b555dc52.js"><link rel="prefetch" href="/blog/assets/js/52.1515a405.js"><link rel="prefetch" href="/blog/assets/js/53.e00f43ac.js"><link rel="prefetch" href="/blog/assets/js/54.cd41e1c2.js"><link rel="prefetch" href="/blog/assets/js/55.08fc2b12.js"><link rel="prefetch" href="/blog/assets/js/56.0a2f1616.js"><link rel="prefetch" href="/blog/assets/js/57.8cab0283.js"><link rel="prefetch" href="/blog/assets/js/58.de24a1f5.js"><link rel="prefetch" href="/blog/assets/js/59.767c329a.js"><link rel="prefetch" href="/blog/assets/js/6.a99c11c6.js"><link rel="prefetch" href="/blog/assets/js/60.71964e3c.js"><link rel="prefetch" href="/blog/assets/js/61.73ff735f.js"><link rel="prefetch" href="/blog/assets/js/62.91b1d652.js"><link rel="prefetch" href="/blog/assets/js/63.352f61d7.js"><link rel="prefetch" href="/blog/assets/js/64.978d46d8.js"><link rel="prefetch" href="/blog/assets/js/65.d1bec329.js"><link rel="prefetch" href="/blog/assets/js/66.e809a477.js"><link rel="prefetch" href="/blog/assets/js/67.6a8921ab.js"><link rel="prefetch" href="/blog/assets/js/68.10502bc2.js"><link rel="prefetch" href="/blog/assets/js/69.0aa1b99a.js"><link rel="prefetch" href="/blog/assets/js/7.33381b0f.js"><link rel="prefetch" href="/blog/assets/js/70.4d75a1e0.js"><link rel="prefetch" href="/blog/assets/js/71.89fa5225.js"><link rel="prefetch" href="/blog/assets/js/72.a8719a73.js"><link rel="prefetch" href="/blog/assets/js/73.ad396e2a.js"><link rel="prefetch" href="/blog/assets/js/74.ef42b982.js"><link rel="prefetch" href="/blog/assets/js/75.12d7a017.js"><link rel="prefetch" href="/blog/assets/js/76.1a1af3af.js"><link rel="prefetch" href="/blog/assets/js/77.74b43eb3.js"><link rel="prefetch" href="/blog/assets/js/78.6b756550.js"><link rel="prefetch" href="/blog/assets/js/79.e22aaddc.js"><link rel="prefetch" href="/blog/assets/js/8.49efbb46.js"><link rel="prefetch" href="/blog/assets/js/80.30d98616.js"><link rel="prefetch" href="/blog/assets/js/81.d8a754e3.js"><link rel="prefetch" href="/blog/assets/js/82.c5d9cd34.js"><link rel="prefetch" href="/blog/assets/js/83.4318307c.js"><link rel="prefetch" href="/blog/assets/js/84.cd91f3e9.js"><link rel="prefetch" href="/blog/assets/js/85.d8147fe6.js"><link rel="prefetch" href="/blog/assets/js/86.7a5f1aae.js"><link rel="prefetch" href="/blog/assets/js/87.042961e3.js"><link rel="prefetch" href="/blog/assets/js/88.cc396c29.js"><link rel="prefetch" href="/blog/assets/js/89.6284ddf1.js"><link rel="prefetch" href="/blog/assets/js/9.53805140.js"><link rel="prefetch" href="/blog/assets/js/90.7d79403a.js"><link rel="prefetch" href="/blog/assets/js/91.17b660ec.js"><link rel="prefetch" href="/blog/assets/js/92.f407f16a.js"><link rel="prefetch" href="/blog/assets/js/93.7da34f6f.js"><link rel="prefetch" href="/blog/assets/js/94.92187f46.js"><link rel="prefetch" href="/blog/assets/js/95.d6c0fd72.js"><link rel="prefetch" href="/blog/assets/js/96.3db3d4da.js"><link rel="prefetch" href="/blog/assets/js/97.50650350.js"><link rel="prefetch" href="/blog/assets/js/98.d4225f67.js"><link rel="prefetch" href="/blog/assets/js/99.73911407.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.3aadf512.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">翻手机壳</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/blog/design/单例模式.html" class="nav-link">
  知识库
</a></div><div class="nav-item"><a href="/blog/interview/ms/第七章 工作经验.html" class="nav-link">
  面试
</a></div><div class="nav-item"><a href="/blog/experience/request/请求.html" class="nav-link">
  总结
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/blog/design/单例模式.html" class="nav-link">
  知识库
</a></div><div class="nav-item"><a href="/blog/interview/ms/第七章 工作经验.html" class="nav-link">
  面试
</a></div><div class="nav-item"><a href="/blog/experience/request/请求.html" class="nav-link">
  总结
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>python</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/python/基础语法.html" class="sidebar-link">基础语法</a></li><li><a href="/blog/blog/python/面向对象.html" class="sidebar-link">面向对象</a></li><li><a href="/blog/blog/python/网络相关.html" class="sidebar-link">服务器</a></li><li><a href="/blog/blog/python/mysql.html" aria-current="page" class="active sidebar-link">mysql</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/blog/python/mysql.html#docker安装mysql" class="sidebar-link">docker安装mysql</a></li><li class="sidebar-sub-header"><a href="/blog/blog/python/mysql.html#基础命令" class="sidebar-link">基础命令</a></li><li class="sidebar-sub-header"><a href="/blog/blog/python/mysql.html#条件查询" class="sidebar-link">条件查询</a></li><li class="sidebar-sub-header"><a href="/blog/blog/python/mysql.html#三大范式" class="sidebar-link">三大范式</a></li><li class="sidebar-sub-header"><a href="/blog/blog/python/mysql.html#事务四大特性" class="sidebar-link">事务四大特性</a></li><li class="sidebar-sub-header"><a href="/blog/blog/python/mysql.html#事务" class="sidebar-link">事务</a></li><li class="sidebar-sub-header"><a href="/blog/blog/python/mysql.html#索引" class="sidebar-link">索引</a></li><li class="sidebar-sub-header"><a href="/blog/blog/python/mysql.html#函数" class="sidebar-link">函数</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>django</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>nodejs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>设计模式</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/blog/blog/git/git.html" class="sidebar-link">git</a></li><li><a href="/blog/blog/pinia/pinia.html" class="sidebar-link">pinia</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>typescript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vite</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue-pure-admin项目分析</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue3</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>react18</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>flutter</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工程化</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="mysql"><a href="#mysql" class="header-anchor">#</a> mysql</h1> <h2 id="docker安装mysql"><a href="#docker安装mysql" class="header-anchor">#</a> docker安装mysql</h2> <ul><li><code>vim mysql/my.cnf</code></li> <li>写入内容</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span>
<span class="token assign-left variable">user</span><span class="token operator">=</span>mysql
character-set-server<span class="token operator">=</span>utf8
<span class="token assign-left variable">default_authentication_plugin</span><span class="token operator">=</span>mysql_native_password
<span class="token assign-left variable">secure_file_priv</span><span class="token operator">=</span>/var/lib/mysql
<span class="token assign-left variable">expire_logs_days</span><span class="token operator">=</span><span class="token number">7</span>
<span class="token assign-left variable">sql_mode</span><span class="token operator">=</span>STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION
<span class="token assign-left variable">max_connections</span><span class="token operator">=</span><span class="token number">1000</span>

<span class="token punctuation">[</span>client<span class="token punctuation">]</span>
default-character-set<span class="token operator">=</span>utf8

<span class="token punctuation">[</span>mysql<span class="token punctuation">]</span>
default-character-set<span class="token operator">=</span>utf8
</code></pre></div><ul><li><p><code>docker run --restart=always --privileged=true -d -v /opt/mysql/data/:/var/lib/mysql -v /opt/mysql/conf.d:/etc/mysql/conf.d -v /opt/mysql/my.cnf:/etc/mysql/my.cnf -p 33060:3306 --name my-mysql -e MYSQL_ROOT_PASSWORD=123456 mysql</code></p></li> <li><p>navicate连接工具免费地址 https://github.com/yhan219/navicat_reset_mac</p></li></ul> <h2 id="基础命令"><a href="#基础命令" class="header-anchor">#</a> 基础命令</h2> <h3 id="登录登出"><a href="#登录登出" class="header-anchor">#</a> 登录登出</h3> <ul><li>mysql -uroot -p</li> <li>exit;</li></ul> <h3 id="数据库操作"><a href="#数据库操作" class="header-anchor">#</a> 数据库操作</h3> <ul><li>show databases; 查看所有表</li> <li>create database python31 chartset=utf8;  创建数据库</li> <li>use python31; 选中数据库</li> <li>select database();查看选中的数据库</li> <li>drop database python3; 删除数据库</li></ul> <h3 id="表的操作"><a href="#表的操作" class="header-anchor">#</a> 表的操作</h3> <ul><li>创建表</li> <li>desc tablename 查看表结构</li> <li>show tables</li> <li>alter table 表明 add 字段名 类型   添加字段名</li> <li>alter table 表明 modify 字段名 类型   修改字段名</li></ul> <h3 id="表类型"><a href="#表类型" class="header-anchor">#</a> <a href="https://www.runoob.com/mysql/mysql-data-types.html" target="_blank" rel="noopener noreferrer">表类型<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <h3 id="表操作"><a href="#表操作" class="header-anchor">#</a> 表操作</h3> <h4 id="查询"><a href="#查询" class="header-anchor">#</a> 查询</h4> <p>select * from tableName;
select name,nam2,name3 from tableName;</p> <h4 id="插入"><a href="#插入" class="header-anchor">#</a> 插入</h4> <p>insert into tableName (列明....) values (内容...);</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">into</span> student  <span class="token punctuation">(</span>id<span class="token punctuation">,</span>NAME<span class="token punctuation">,</span>age<span class="token punctuation">,</span>tall<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token string">'关于'</span><span class="token punctuation">,</span><span class="token number">55</span><span class="token punctuation">,</span><span class="token number">1.82</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token string">'吕布'</span><span class="token punctuation">,</span><span class="token number">38</span><span class="token punctuation">,</span><span class="token number">1.88</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token string">'孙权'</span><span class="token punctuation">,</span><span class="token number">28</span><span class="token punctuation">,</span><span class="token number">1.78</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token string">'诸葛亮'</span><span class="token punctuation">,</span><span class="token number">48</span><span class="token punctuation">,</span><span class="token number">1.62</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">'嫂夫人'</span><span class="token punctuation">,</span><span class="token number">36</span><span class="token punctuation">,</span><span class="token number">1.52</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="修改"><a href="#修改" class="header-anchor">#</a> 修改</h4> <p>update tablename set tablename=value,tablename2=value2 where 条件</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> student <span class="token keyword">SET</span> gender<span class="token operator">=</span><span class="token number">2</span> <span class="token keyword">WHERE</span> id <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="删除语句"><a href="#删除语句" class="header-anchor">#</a> 删除语句</h4> <p>delete from tablename where 条件</p> <h4 id="as和distinct"><a href="#as和distinct" class="header-anchor">#</a> as和distinct</h4> <ul><li>as别名 或者空格 <code>SELECT * from student as s WHERE s.age&gt;50</code></li> <li>distinct 去除重复行 <code>select distinct age,gender from student</code></li></ul> <h4 id="where-比较运算符"><a href="#where-比较运算符" class="header-anchor">#</a> where 比较运算符</h4> <ul><li><blockquote><p>、=、&gt;=、&lt;、&lt;=、!=&lt;&gt;</p></blockquote></li></ul> <h4 id="where-逻辑运算符"><a href="#where-逻辑运算符" class="header-anchor">#</a> where 逻辑运算符</h4> <ul><li>and</li> <li>or</li> <li>not</li></ul> <h4 id="where-like模糊查询"><a href="#where-like模糊查询" class="header-anchor">#</a> where like模糊查询</h4> <ul><li>name like '%sang'</li> <li>name like 'sang%'</li> <li>name like '%sang%'</li></ul> <h4 id="where-between-and-和in"><a href="#where-between-and-和in" class="header-anchor">#</a> where between...and...和in</h4> <ul><li>where id between 20 and 30;</li> <li>where id in (3,4,6);</li></ul> <h4 id="where空判断"><a href="#where空判断" class="header-anchor">#</a> where空判断;</h4> <ul><li>is null;</li> <li>is not null;</li></ul> <h4 id="排序"><a href="#排序" class="header-anchor">#</a> 排序</h4> <ul><li>order by name desc;</li> <li>order by name desc,name2 asc;</li> <li>默认升序asc</li></ul> <h4 id="分页查询"><a href="#分页查询" class="header-anchor">#</a> 分页查询</h4> <ul><li>limit 0,3 第一次参数位置，第二个条数</li> <li>limit (n-1)*m,m 分页</li></ul> <h4 id="聚合函数"><a href="#聚合函数" class="header-anchor">#</a> 聚合函数</h4> <p>聚合函数不对空值进行统计</p> <ul><li>count() select count(id) from student; 统计个数</li> <li>max() select max(id) from student; 统计最大的id是</li> <li>min() select min(id) from student; 统计最小的id是</li> <li>sum() select sum(id) from student; 求和</li> <li>avg() select avg(id) from student; 平均值</li> <li>group_concat(name) select gender,group_concat(name) from student group by gender; 拼接数据</li> <li>ifnull() select avg(ifull(id,0)) from student; 如果是空就加入统计默认值</li></ul> <h2 id="条件查询"><a href="#条件查询" class="header-anchor">#</a> 条件查询</h2> <h3 id="分组查询"><a href="#分组查询" class="header-anchor">#</a> 分组查询</h3> <p>分组选择的字段必须要和分组的字段保持一致</p> <ul><li>having 对分组后的数据进行过滤 <code>sql SELECT department_name, SUM(salary) AS avg_salary FROM employees GROUP BY department_name HAVING SUM(salary) &gt; (SELECT AVG(salary) FROM employees);</code></li> <li>select gender from student group by gender;</li> <li>select gender,avg(age) from student group by gender; 配合聚合函数</li> <li>with rollup  对分组后的数据进行统计 <code>SELECT name,SUM(signin) as signin_count FROM employee_tbl GROUP BY name WITH ROLLUP;</code> 在基础之上统计</li></ul> <h3 id="连接查询"><a href="#连接查询" class="header-anchor">#</a> 连接查询</h3> <h4 id="内连接"><a href="#内连接" class="header-anchor">#</a> 内连接</h4> <ul><li>INNER JOIN（内连接,或等值连接）：获取两个表中字段匹配关系的记录。</li> <li>LEFT JOIN（左连接）：获取左表所有记录，即使右表没有对应匹配的记录。</li> <li>RIGHT JOIN（右连接）： 与 LEFT JOIN 相反，用于获取右表所有记录，即使左表没有对应匹配的记录。</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code> 	<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> classes <span class="token keyword">as</span> c <span class="token keyword">on</span> student<span class="token punctuation">.</span>cid <span class="token operator">=</span> c<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
	<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">left</span> <span class="token keyword">JOIN</span> classes <span class="token keyword">as</span> c <span class="token keyword">on</span> student<span class="token punctuation">.</span>cid <span class="token operator">=</span> c<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
	<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> classes <span class="token keyword">as</span> c <span class="token keyword">on</span> student<span class="token punctuation">.</span>cid <span class="token operator">=</span> c<span class="token punctuation">.</span>id<span class="token punctuation">;</span> 
</code></pre></div><h2 id="三大范式"><a href="#三大范式" class="header-anchor">#</a> 三大范式</h2> <ul><li>第一范式(确保每列保持原子性)</li> <li>第二范式(确保表中的每列都和主键相关)</li> <li>第三范式(确保每列都和主键列直接相关,而不是间接相关)</li></ul> <h2 id="事务四大特性"><a href="#事务四大特性" class="header-anchor">#</a> 事务四大特性</h2> <p>1、原子性（Atomicity）
　　原子性是指事务包含的所有操作要么全部成功，要么全部失败回滚，因此事务的操作如果成功就必须要完全应用到数据库，如果操作失败则不能对数据库有任何影响。</p> <p>2、一致性（Consistency）
　　一致性是指事务必须使数据库从一个一致性状态变换到另一个一致性状态，也就是说一个事务执行之前和执行之后都必须处于一致性状态。</p> <p>拿转账来说，假设用户A和用户B两者的钱加起来一共是5000，那么不管A和B之间如何转账，转几次账，事务结束后两个用户的钱相加起来应该还得是5000，这就是事务的一致性。</p> <p>3、隔离性（Isolation）
　　隔离性是当多个用户并发访问数据库时，比如操作同一张表时，数据库为每一个用户开启的事务，不能被其他事务的操作所干扰，多个并发事务之间要相互隔离。</p> <p>即要达到这么一种效果：对于任意两个并发的事务T1和T2，在事务T1看来，T2要么在T1开始之前就已经结束，要么在T1结束之后才开始，这样每个事务都感觉不到有其他事务在并发地执行。</p> <div class="language- extra-class"><pre><code>   MySQL标准的事务隔离级别包括：

          1. 读未提交（read uncommitted）：一个事务还没提交时，它做的变更就能被别的事务看到。

          2. 读已提交（read committed）：一个事务提交之后，它做的变更才会被其他事务看到（为什么有些产商会把隔离级别设置成这个？）。

          3. 可重复读（repeatable read）：默认（为什么默认是这个？），一个事务执行过程中看到的数据，总是跟这个事务在启动时看到的数据是一致的。当然在可重复读隔离级别下，未提交变更对其他事务也是不可见的。

          4. 串行化（serializable ）：对于同一行记录，“写”会加“写锁”，“读”会加“读锁”。当出现读写锁冲突的时候，后访问的事务必须等前一个事务执行完成，才能继续执行。

   Oracle标准的事务隔离级别包括：

          1. 读已提交（read committed）：默认隔离级别。

          2. 串行化（serializable ）
</code></pre></div><p>4、持久性（Durability）
　　持久性是指一个事务一旦被提交了，那么对数据库中的数据的改变就是永久性的，即便是在数据库系统遇到故障的情况下也不会丢失提交事务的操作。</p> <div class="language- extra-class"><pre><code>例如我们在使用JDBC操作数据库时，在提交事务方法后，提示用户事务操作完成，当我们程序执行完成直到看到提示后，就可以认定事务已经正确提交，即使这时候数据库出现了问题，也必须要将我们的事务完全执行完成，否则就会造成我们看到提示事务处理完毕，但是数据库因为故障而没有执行事务的重大错误。
</code></pre></div><h2 id="事务"><a href="#事务" class="header-anchor">#</a> 事务</h2> <p>引擎要为innerDB的才可以支持事务，默认innerDB,还有个MySAM不支持事务，但是访问速度快</p> <p>修改手动提交 <code>set autocommit = 0;</code></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">begin</span><span class="token punctuation">;</span>手动开启；
<span class="token keyword">insert</span> <span class="token keyword">into</span> classes <span class="token punctuation">(</span>name<span class="token punctuation">,</span>id<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'zhans'</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">commit</span><span class="token punctuation">;</span> 提交操作
<span class="token keyword">rollback</span><span class="token punctuation">;</span>回滚操作


</code></pre></div><h2 id="索引"><a href="#索引" class="header-anchor">#</a> 索引</h2> <p>主要为了提高查询速度</p> <h3 id="普通索引"><a href="#普通索引" class="header-anchor">#</a> 普通索引</h3> <ul><li>show inde from classes 查看表的索引</li> <li>带有Key的就是索引标识</li></ul> <h3 id="联合索引"><a href="#联合索引" class="header-anchor">#</a> 联合索引</h3> <ul><li>最左原则</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code>比如<span class="token keyword">index</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span>创建了联合索引<span class="token punctuation">,</span>左边的字段必须再<span class="token keyword">where</span>条件中，否则联合索引不起作用
<span class="token keyword">select</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">where</span> name<span class="token operator">=</span><span class="token string">'11'</span> 起作用
<span class="token keyword">select</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">where</span> age<span class="token operator">=</span><span class="token string">'11'</span> 不起作用
<span class="token keyword">select</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">where</span> name<span class="token operator">=</span><span class="token number">22</span> <span class="token operator">and</span> age<span class="token operator">=</span><span class="token string">'11'</span> 起作用

</code></pre></div><h3 id="建索引的原则"><a href="#建索引的原则" class="header-anchor">#</a> 建索引的原则</h3> <ul><li>不是越多越好，合理利用</li> <li>不要对经常跟新的表做索引，对经常查询的字段做索引</li> <li>数据量小不要建索引</li> <li>字段相同值的时候不要建索引</li></ul> <h2 id="函数"><a href="#函数" class="header-anchor">#</a> 函数</h2> <ul><li>around(price,2) 保留两位小数</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/blog/python/网络相关.html" class="prev">
        服务器
      </a></span> <span class="next"><a href="/blog/blog/linux/目录.html">
        nginx基本知识
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.24b46c41.js" defer></script><script src="/blog/assets/js/2.245720e2.js" defer></script><script src="/blog/assets/js/38.da0fae6c.js" defer></script>
  </body>
</html>
