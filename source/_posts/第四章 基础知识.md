---
title: 提升 - 基础知识
date: 2022-08-13 10:24:31
category: 提升
tag: js
password: 123789
abstract: 这里有东西被加密了，需要输入密码查看哦。
message: 您好，这里需要密码。
wrong_pass_message: 抱歉，这个密码看着不太对，请再试试。
wrong_hash_message: 抱歉，这个文章不能被纠正，不过您还是能看看解密后的内容。
---

#### 1、Ajax、fetch、Axios 的区别？

- ajax 是一种技术统称，最原生的 api 是 XMLHttpRequest

  ```
  function featch(methods: string, URL: string) {
      return new Promise((resolve: (arg0: string) => void, reject: any) => {
          const xhr: XMLHttpRequest = new XMLHttpRequest();
          xhr.open(methods, URL, false);
          xhr.onreadystatechange = () => {
              if (xhr.readyState == 4) {
                  if (xhr.status == 200) {
                      resolve(xhr.responseText)
                  }
              }
          }
          xhr.send(null);
      })
  }

  ```

- Fetch 是一个具体的 api

  ```
  function getData(url: RequestInfo | URL) {
      return fetch(url).then(res => res.json());
  }
  ```

- Axios 是第三方的一个库

#### 2、节流和防抖

节流 throotle：限制执行频率，有节奏的执行 （一般用于拖拽，滚动）

防抖 debounce：闲置执行次数，多次密集的触发只执行一次（一般用于输入框）

```
function debounce(fn,delay=200){
                let time = 0;
                return function(){
                    if(time){
                        clearTimeout(time);
                    }
                    time = setTimeout(()=>{
                        console.log(fn)
                        fn.apply(this,arguments);
                    },delay);
                }
            }
            function throttle(fn,delay=200){
                let time = 0;
                return function(){
                    if(time){
                       return
                    }
                    time = setTimeout(()=>{
                        fn.apply(this,arguments);
                        time = 0;
                    },delay);
                }
            }
```

#### 3、px、%、vh、rem、em

- px 绝对像素
- rem 更元素的 rem
- Vmin vmax 取最大值

#### 4、箭头函数特点

- 没有 arguments
- 无法通过 apply、call 来改变 this 的指向
- 无法通过 new 来实例化函数
- this 永远指向

​ 特例：在 class 中就可以

​

```
class A{
	getName:()=>{
		return this.name
	}
}
```

#### 5、请描述 Tcp 三次握手和四次挥手

- 先建立链接（确保双方都有首发消息的能力）
- 在传输内容（发一个 get 请求）
- 网络链接是 TCP 链接，传输协议是 HTTP 协议
- 三次握手分别是（发起链接）
  - clinet 发包请求建立链接， server 接包 server：有 clint 要找我， （在不在啊？）
  - server 发包 ，client 节包 ，clinet：server 已经收到信息了（在的，我在）
  - Cllient 发送，server 接包 ，server：client 要准备发送了（我准备发送快递去你家了）
- 四次挥手（断开链接）
  - clinet 发包，server 接包 ，server: clinet 已请求结束
  - server 发包，clinet 接包 ,clinet :server 已收到，我等待他关闭
  - server 发包，clinet 接包，clinet : server 此时可以关闭链接了
  - client 发包，server 接包，server：可以关闭了

![image-20220703154853522](/Users/fanrongkong/Library/Application Support/typora-user-images/image-20220703154853522.png)

#### 6、for...of 和 for...in 的区别

- for in 用于可枚举的数据，比如对象、数组、字符串，得到 key，就是有 Object.getOwnPropertyDescriptors 中有 enumerable:true 的
- for...of 用于可迭代数据，比如数组、字符串、Map、Set,得到 value，就是部署了 Symbol.iterator 接口的

#### 7、for await.....of 的用处

用于遍历多个 promise，类似 promise.all

```
 function pro(a){
            return new Promise(reslove=>{
                setTimeout(()=>{
                    reslove(a)
                },1000)
            })
        }

        (async function(){
            let p1 =  pro(100);
            // console.log(p1)
            let p2 =  pro(200);
            // console.log(p2)
            let p3 =  pro(300);
            console.log(p3)
            for await  (let val of [p1,p2,p3]){
                console.log(val)
            }
        })()
```

扩展，这个时候是同时执行，相当于并发，但是如果要一个一个的去实现

```
 function pro(a){
            return new Promise(reslove=>{
                setTimeout(()=>{
                    reslove(a)
                },1000)
            })
        }

        (async function(){
            let p1 =  pro(100);
            // console.log(p1)
            let p2 =  pro(200);
            // console.log(p2)
            let p3 =  pro(300);
            console.log(p3)
            for(let val of [100,200,300]){
               let arr = await pro(val);
            }
        })()
```

#### 8、offsetHeight

- offsetHeight = border+padding + content
- ClientHeight = padding + content
- scrollHeight = padding + 实际内容尺寸

#### 9、vue 的 watch 和 computed 区别

- watch 是查看数据的变化，二 computed 是通过某个值去生成一个新的值，所监听的值会有变化，计算的值就会跟这变化
- computed 用于计算产出新的数据，有缓存，使用 method 当作 computed 来用，methods 是没有缓存的，

#### 10、$attrs和$listeners（试试）

- $attrs是获取父级所有的属性，在vue3的时候代理了$listeners 方法
- $listeners 是获取父级所有的事件，在 vue3 的时候移除了改属性

#### 11、event bus 总线

- Vue2 的话直接 new vue 就可以了
- vue3 的话用第三方库，event-emitter

#### 12、$parent

- 可以获取父级的组件

#### 13、provide 、inject

- 静态数据

  ```
  provide:{
  	inf:'aaa'
  }
  ```

- 动态数据

  ```
  provide(){
  	return {
  		info:computed(()=>this.value)
  	}
  }
  ```

#### 14、vuex 的 mutation 和 action 的区别

- mutation 是原子操作，必须是同步代码
- action 可以包含多个 mutation，可以包含异步代码

#### 15、JS 严格模式的有什么特点

- 全局变量必须先申明

  ```
  'use strict'
  n = 1；非严格可以，严格不可以

  let a = 2;
  ```

- 禁止使用 with

- 创建 eval 作用域,eval 有单独的作用域

  ```
  'use strict'
  var x = 10;
  eval('var x = 20;console.log(x)') //20
  console.log(x) //10
  ```

- 禁止 this 指向 window

- 函数参数不能重名

  ```
  'use strict'
  function (x,x,t){ //报错
  }
  ```

#### 16、Http 跨域请求时为何发送 options 请求

- 跨域是因为浏览器的同源策略限制导致的，一般限制 Ajax 请求
- 不会限制<Link> 、<img>、<script>、<ifream> 加载第三方资源
- 解决跨域方法：
  - JSONP：通过 script 请求接口![image-20220704222235967](/Users/fanrongkong/Library/Application Support/typora-user-images/image-20220704222235967.png)
  - 服务端设置
- 答案：
  - options 请求是跨域请求之前的预检查（检查是 get、post、delete.....）
  - 浏览器自行发起的，无需我们干预
  - 不会影响实际的功能
