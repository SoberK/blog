(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{393:function(t,v,e){"use strict";e.r(v);var l=e(14),s=Object(l.a)({},(function(){var t=this,v=t._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h3",{attrs:{id:"_32-你写过自定义指令嘛-自定义指令的场景事哪些"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_32-你写过自定义指令嘛-自定义指令的场景事哪些"}},[t._v("#")]),t._v(" 32.你写过自定义指令嘛？自定义指令的场景事哪些")]),t._v(" "),v("ol",[v("li",[t._v("vue 有一组默认指令，比如v-model或 v-for，同时 vue 也允许用户注册自定义指令来扩展vue 能力")]),t._v(" "),v("li",[t._v("自定义指令主要完成一些可复用低层级 DOM操作")]),t._v(" "),v("li",[t._v("使用自定义指令分为定义、注册和使用三步：")])]),t._v(" "),v("ul",[v("li",[t._v("定义自定义指令有两种方式：对象和函数数形式，前者类似组件定义，有各种生命周期；后者只会在mounted 和updated 时执行")]),t._v(" "),v("li",[t._v("注册自定义指令类似组件，可以使用 app.directive()全局注册，使用 directives:fxxxf 局部注朋")]),t._v(" "),v("li",[t._v("使用时在注册名称前加上v-即可，比如v-focus")])]),t._v(" "),v("ol",{attrs:{start:"4"}},[v("li",[t._v("我在项目中常用到一些自定义指令，例如：")])]),t._v(" "),v("ul",[v("li",[t._v("复制粘贴 v-copy")]),t._v(" "),v("li",[t._v("长按v-longpress")]),t._v(" "),v("li",[t._v("防抖 v-debounce")]),t._v(" "),v("li",[t._v("图片懒加载 v-lazy")]),t._v(" "),v("li",[t._v("按钮权限 vpremission")]),t._v(" "),v("li",[t._v("页面水印v-waterMasker")]),t._v(" "),v("li",[t._v("拖拽指令 v-draggable")])]),t._v(" "),v("ol",{attrs:{start:"5"}},[v("li",[v("p",[t._v("vue3中指令定义发生了比较大的变化，主要钩子的名称保持和组件一致，这样开发人员容易记忆，不宜犯错。不可以在setup中以一个小写的v开头方便的自定义指令，更简单了")]),t._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[t._v("<script setup>\nconst vFouce = {\n\tmouted(el){\n\t\tel.fouce();\n\t}\n}\n<script>\n<template>\n\t<div v-foucus>222<div/>\n<template/>\n")])])])])])])}),[],!1,null,null,null);v.default=s.exports}}]);